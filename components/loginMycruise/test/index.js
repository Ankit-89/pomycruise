import React from 'react';
import { mount } from 'enzyme';

import data from '../data/po';
import LoginMycruise from '../index';

describe('<LoginMycruise />', () => {
    let wrapper;

    const customData = data.attributes;
    const services = data.services;

    window.SR = {
        legalContent: {}
    };

    beforeEach(() => {
        wrapper = mount(<LoginMycruise {...customData} services={services} />);
    });

    test('Should mount without problems', () => {
        expect(wrapper.length).toEqual(1);
    });

    test('Text box are present', () => {
        expect(wrapper.find('input[type="text"]').length).toEqual(3);
    });

    // test('Check box is present', () => {
    //     if (customData.labels.termsAcceptance) {
    //         assert.equal(wrapper.find('input[type="checkbox"]').length, 1);
    //     }
    //     else {
    //         assert.equal(wrapper.find('input[type="checkbox"]').length, 0);
    //     }
    // }); test('Email present', () => {
    //     assert.equal(wrapper.find('input[type="email"]').length, 1);
    // }); test('Button present', () => {
    //     assert.equal(wrapper.find('button').length, 1);
    // }); test('HandleSubmit method is called', () => {
    //     wrapper.setState({
    //         firstName: 'Bob',
    //         lastName: 'Smith',
    //     });

    //     wrapper.instance().errorCount = 0;
    //     wrapper.instance().validFirstName = true;
    //     wrapper.instance().validLastName = true;
    //     wrapper.instance().validEmail = true;
    //     wrapper.find('button').simulate('click');

    //     if (!customData.ctaLink) {
    //         wrapper.instance().submittingFormToService(formObj);
    //     }
    // });

    test('Validate the getCruiseInfo function', () => {
        let cruisebookingResponse = '{"remoteBookingID":{"$":""},"requestedCityCode":{"$":"LON"},"fullPaymentReceivedInd":"N","rateCode":{"$":"KD1"},"rateName":"SELECT PRICE - OBC","statusCode":{"$":"CF"},"statusDesc":"Confirmed","createdDateTime":"061220201333","id":{"$":"CW5WXC"},"countryCode":"GB","agent":{"agencyID":{"$":"00015805"},"userID":{"$":"."},"userName":"."},"passengers":[{"seqNumber":{"$":"1"},"statusCode":{"$":"CF"},"statusText":"Confirmed","pastGuestNumber":{"$":"POFI67170M"},"insuranceTypeCode":{"$":"O"},"insuranceInd":"Y","rateCode":{"$":"KD1"},"individual":{"genderCode":{"$":"M"},"birthDate":"1980-01-01","nationalityCode":{"$":"AM"},"countryOfResidenceCode":{"$":"AI"},"ageCode":{"$":"Y"},"ageQuantity":{"$":"41"},"nationalityNameText":"ARMENIA","countryOfResidenceNameText":"ANGUILLA","residencyUSInd":"N","homeCityCode":{"$":"LON"},"homeCityNameText":"LONDON  GB","contactPoints":[{"primaryContactInd":"Y","emailAddress":{"fullAddressText":"A.SINGH@UBQIUEDIGITAL.COM"},"phoneNumber":{"descText":"HOME","typeCode":{"$":"H"},"numberText":"8000543676"},"postalAddress":[{"typeCode":{"$":"H"},"description":"Home","addressLine1":"123 HARBOR","addressLine2":"","addressLine3":"","buildingNameText":"","postCode":{"$":"2000"},"cityNameText":"SYDNEY","countyNameText":"NSW","countryCode":{"$":"AU"},"countryNameText":"AUSTRALIA"},{"typeCode":{"$":"D"},"description":"Destination","countyNameText":""}]}],"identityDocuments":[{"id":{"$":"J8369854"},"typeCode":{"$":"P"},"issueDate":"03012007","issuePlaceCode":{"$":""},"issuePlaceNameText":"ANTIGUA AND BARBUDA","expiryDate":"11192024","birthPlaceCode":{"$":"AO"},"birthPlaceName":"ANGOLA","issueCityName":"","occupationCode":{"$":""},"occupationDescText":""}],"individualName":{"titleCode":{"$":"MR"},"firstNameText":"TEST","middleNameText":"","familyNameText":"TEST","suffixText":""}},"packages":[{"code":{"$":"A0TNOXFR"},"nameText":"NO TRANSFER","typeCode":{"$":"A"},"typeText":"Post-Cruise","statusCode":{"$":"CF"},"statusText":"Confirmed","nbrOfNightsQuantity":{"$":"0"},"requiredInd":"N","complimentaryInd":"Y","rateAmount":{"$":"0.00"},"rateGuestTypeCode":{"$":""},"rateGuestTypeText":"","minimumGuestsQuantity":{"$":"1"}}],"specialServices":[{"code":{"$":"N"},"descText":"Decline Complimentary Upgrade","typeCode":{"$":"UPG"},"typeText":"Upgrade","statusText":"On Request","chargeTypeCode":{"$":"C"}}],"transportations":[{"typeCode":{"$":"O"},"typeText":"Cruise Only","statusCode":{"$":"CF"},"statusText":"CONFIRMED","cityCode":{"$":"LON"},"cityText":"LONDON  GB"}]}],"cabins":[{"number":"E421","typeCode":{"$":"OB"},"availableInd":"N","upgradeCode":"","modifiedInd":"N","modifiedIndDetail":"N","statusCode":{"$":"CF"},"statusDescription":"Confirmed","guestMin":"1","guestMax":"2","deckCode":{"$":"E"},"deckName":"E","smokingPrefCode":{"$":"X"},"smokingPrefDescription":"No Preference","beds":[{"desc":"QUEEN","typeCode":{"$":"QN"},"numberOfBeds":"2","currentlyHeld":"Y"},{"desc":"TWINS","typeCode":{"$":"T2"},"numberOfBeds":"2","currentlyHeld":"N"}],"cabinLocations":[{"typeCode":{"$":"MD"},"desc":"Midship"},{"typeCode":{"$":"ST"},"desc":"Starboard"},{"typeCode":{"$":"OV"},"desc":"Oceanview"}]}],"creditCardTypes":[{"code":{"$":"MC"},"description":"Master Card"},{"code":{"$":"VI"},"description":"VISA"},{"code":{"$":"AX"},"description":"American Express"},{"code":{"$":"DS"},"description":"Discover"},{"code":{"$":"DC"},"description":"Diners Club"}],"cruise":{"cruiseItinerary":{"id":{"$":"CE0001"},"desc":"CARIBBEAN","sailDate":"2021-01-01","sailingID":{"$":"B101"},"durationDays":"14","destinationCode":{"$":"CAE"},"destinationName":"Caribbean - Caribbean Eastern"},"ship":{"code":{"$":"BR"},"name":"BRITANNIA"}},"customerBillLineItems":[{"code":{"$":"AMCT"},"description":"Amount Cruise/Tour","amount":{"$":"3585.00"},"seqNumber":"0"},{"code":{"$":"AADD"},"description":"Transportation Add-On","amount":{"$":"0.00"},"seqNumber":"0"},{"code":{"$":"INSU"},"description":"Insurance","amount":{"$":"0.00"},"seqNumber":"0"},{"code":{"$":"PKGS"},"description":"Pre/Post Packages","amount":{"$":"0.00"},"seqNumber":"0"},{"code":{"$":"SSVC"},"description":"Special Services","amount":{"$":"0.00"},"seqNumber":"0"},{"code":{"$":"TXFS"},"description":"Taxes, Fees and Port Expenses","amount":{"$":"0.00"},"seqNumber":"0"},{"code":{"$":"GRSS"},"description":"Gross Amount","amount":{"$":"3585.00"},"seqNumber":"0"},{"code":{"$":"POBC"},"description":"Onboard Credit","amount":{"$":"180.00"},"seqNumber":"0","currencyCode":{"$":"GBP"}},{"code":{"$":"AMCT"},"description":"Amount Cruise/Tour","amount":{"$":"3585.00"},"seqNumber":"1"},{"code":{"$":"AADD"},"description":"Transportation Add-On","amount":{"$":"0.00"},"seqNumber":"1"},{"code":{"$":"INSU"},"description":"Insurance","amount":{"$":"0.00"},"seqNumber":"1"},{"code":{"$":"PKGS"},"description":"Pre/Post Packages","amount":{"$":"0.00"},"seqNumber":"1"},{"code":{"$":"SSVC"},"description":"Special Services","amount":{"$":"0.00"},"seqNumber":"1"},{"code":{"$":"TXFS"},"description":"Taxes, Fees and Port Expenses","amount":{"$":"0.00"},"seqNumber":"1"},{"code":{"$":"GRSS"},"description":"Gross Amount","amount":{"$":"3585.00"},"seqNumber":"1"},{"code":{"$":"POBC"},"description":"Onboard Credit","amount":{"$":"180.00"},"seqNumber":"1","currencyCode":{"$":"GBP"}},{"code":{"$":"GRSS"},"description":"Gross Amount","amount":{"$":"3585.00"},"seqNumber":"0"},{"code":{"$":"COMM"},"description":"Commission","amount":{"$":"304.72"},"seqNumber":"0"},{"code":{"$":"NAMT"},"description":"Net Amount","amount":{"$":"3280.28"},"seqNumber":"0"},{"code":{"$":"PMTS"},"description":"Payments Applied","amount":{"$":"0.00"},"seqNumber":"0"},{"code":{"$":"NETD"},"description":"Net Due Cruise Line","amount":{"$":"3280.28"},"seqNumber":"0"}],"debarks":{"port":{"code":{"$":"BGI"},"suffix":"3"}},"diningSeatings":[{"choiceFlag":"","code":{"$":"1"},"description":"FIRST SEATING","smokingPreferenceCode":{"$":"X"},"smokingPreferenceDescription":"Non-Smoking","availableInd":"N","tableCode":{"$":"6"},"tableDescription":"Table for 6","statusCode":{"$":"CF"},"statusDescription":"Confirmed"}],"embarkationInfos":[{"description":"BOARD SHIP","time":"1300"}],"embarks":{"port":{"code":{"$":"BGI"},"suffix":"1"}},"exchangeRate":{"fromCurrency":{"$":"GBP"}},"option":{"extendDate":"","extendInd":"N"},"paymentMethods":[{"code":{"$":"CC"},"description":"CREDIT CARD"},{"code":{"$":"CK"},"description":"CHECK"}],"paymentSchedules":[{"code":{"$":"D"},"description":"Deposit","seqNumber":"0","dueDate":"06122020","amount":{"$":"538.00"}},{"code":{"$":"A"},"description":"Final By Check","seqNumber":"0","dueDate":"10032020","amount":{"$":"3280.28"}},{"code":{"$":"G"},"description":"Final By Credit Card","seqNumber":"0","dueDate":"10032020","amount":{"$":"3585.00"}}]}';
        let selectedDaytemp = { value: "01" };
        let selectedMonthtemp = { value: "01" };
        let selectedYeartemp = { value: "1980" };
        const instance = wrapper.instance();

        wrapper.setState({
            firstName: " Test ",
            lastName: "Test",
            selectedDay: selectedDaytemp,
            selectedMonth: selectedMonthtemp,
            selectedYear: selectedYeartemp,
            bookingNumber: "CW5WXC"
        });

        instance.getCruiseInfo(JSON.parse(cruisebookingResponse), '1');
        expect(wrapper.state('bookingIdError')).toEqual(false);
    });

    test('Validate the setSessionStorageInfo function', () => {
        let cruisebookingResponse = '{"remoteBookingID":{"$":""},"requestedCityCode":{"$":"LON"},"fullPaymentReceivedInd":"N","rateCode":{"$":"KD1"},"rateName":"SELECT PRICE - OBC","statusCode":{"$":"CF"},"statusDesc":"Confirmed","createdDateTime":"061220201333","id":{"$":"CW5WXC"},"countryCode":"GB","agent":{"agencyID":{"$":"00015805"},"userID":{"$":"."},"userName":"."},"passengers":[{"seqNumber":{"$":"1"},"statusCode":{"$":"CF"},"statusText":"Confirmed","pastGuestNumber":{"$":"POFI67170M"},"insuranceTypeCode":{"$":"O"},"insuranceInd":"Y","rateCode":{"$":"KD1"},"individual":{"genderCode":{"$":"M"},"birthDate":"1980-01-01","nationalityCode":{"$":"AM"},"countryOfResidenceCode":{"$":"AI"},"ageCode":{"$":"Y"},"ageQuantity":{"$":"41"},"nationalityNameText":"ARMENIA","countryOfResidenceNameText":"ANGUILLA","residencyUSInd":"N","homeCityCode":{"$":"LON"},"homeCityNameText":"LONDON  GB","contactPoints":[{"primaryContactInd":"Y","emailAddress":{"fullAddressText":"A.SINGH@UBQIUEDIGITAL.COM"},"phoneNumber":{"descText":"HOME","typeCode":{"$":"H"},"numberText":"8000543676"},"postalAddress":[{"typeCode":{"$":"H"},"description":"Home","addressLine1":"123 HARBOR","addressLine2":"","addressLine3":"","buildingNameText":"","postCode":{"$":"2000"},"cityNameText":"SYDNEY","countyNameText":"NSW","countryCode":{"$":"AU"},"countryNameText":"AUSTRALIA"},{"typeCode":{"$":"D"},"description":"Destination","countyNameText":""}]}],"identityDocuments":[{"id":{"$":"J8369854"},"typeCode":{"$":"P"},"issueDate":"03012007","issuePlaceCode":{"$":""},"issuePlaceNameText":"ANTIGUA AND BARBUDA","expiryDate":"11192024","birthPlaceCode":{"$":"AO"},"birthPlaceName":"ANGOLA","issueCityName":"","occupationCode":{"$":""},"occupationDescText":""}],"individualName":{"titleCode":{"$":"MR"},"firstNameText":"TEST","middleNameText":"","familyNameText":"TEST","suffixText":""}},"packages":[{"code":{"$":"A0TNOXFR"},"nameText":"NO TRANSFER","typeCode":{"$":"A"},"typeText":"Post-Cruise","statusCode":{"$":"CF"},"statusText":"Confirmed","nbrOfNightsQuantity":{"$":"0"},"requiredInd":"N","complimentaryInd":"Y","rateAmount":{"$":"0.00"},"rateGuestTypeCode":{"$":""},"rateGuestTypeText":"","minimumGuestsQuantity":{"$":"1"}}],"specialServices":[{"code":{"$":"N"},"descText":"Decline Complimentary Upgrade","typeCode":{"$":"UPG"},"typeText":"Upgrade","statusText":"On Request","chargeTypeCode":{"$":"C"}}],"transportations":[{"typeCode":{"$":"O"},"typeText":"Cruise Only","statusCode":{"$":"CF"},"statusText":"CONFIRMED","cityCode":{"$":"LON"},"cityText":"LONDON  GB"}]}],"cabins":[{"number":"E421","typeCode":{"$":"OB"},"availableInd":"N","upgradeCode":"","modifiedInd":"N","modifiedIndDetail":"N","statusCode":{"$":"CF"},"statusDescription":"Confirmed","guestMin":"1","guestMax":"2","deckCode":{"$":"E"},"deckName":"E","smokingPrefCode":{"$":"X"},"smokingPrefDescription":"No Preference","beds":[{"desc":"QUEEN","typeCode":{"$":"QN"},"numberOfBeds":"2","currentlyHeld":"Y"},{"desc":"TWINS","typeCode":{"$":"T2"},"numberOfBeds":"2","currentlyHeld":"N"}],"cabinLocations":[{"typeCode":{"$":"MD"},"desc":"Midship"},{"typeCode":{"$":"ST"},"desc":"Starboard"},{"typeCode":{"$":"OV"},"desc":"Oceanview"}]}],"creditCardTypes":[{"code":{"$":"MC"},"description":"Master Card"},{"code":{"$":"VI"},"description":"VISA"},{"code":{"$":"AX"},"description":"American Express"},{"code":{"$":"DS"},"description":"Discover"},{"code":{"$":"DC"},"description":"Diners Club"}],"cruise":{"cruiseItinerary":{"id":{"$":"CE0001"},"desc":"CARIBBEAN","sailDate":"2021-01-01","sailingID":{"$":"B101"},"durationDays":"14","destinationCode":{"$":"CAE"},"destinationName":"Caribbean - Caribbean Eastern"},"ship":{"code":{"$":"BR"},"name":"BRITANNIA"}},"customerBillLineItems":[{"code":{"$":"AMCT"},"description":"Amount Cruise/Tour","amount":{"$":"3585.00"},"seqNumber":"0"},{"code":{"$":"AADD"},"description":"Transportation Add-On","amount":{"$":"0.00"},"seqNumber":"0"},{"code":{"$":"INSU"},"description":"Insurance","amount":{"$":"0.00"},"seqNumber":"0"},{"code":{"$":"PKGS"},"description":"Pre/Post Packages","amount":{"$":"0.00"},"seqNumber":"0"},{"code":{"$":"SSVC"},"description":"Special Services","amount":{"$":"0.00"},"seqNumber":"0"},{"code":{"$":"TXFS"},"description":"Taxes, Fees and Port Expenses","amount":{"$":"0.00"},"seqNumber":"0"},{"code":{"$":"GRSS"},"description":"Gross Amount","amount":{"$":"3585.00"},"seqNumber":"0"},{"code":{"$":"POBC"},"description":"Onboard Credit","amount":{"$":"180.00"},"seqNumber":"0","currencyCode":{"$":"GBP"}},{"code":{"$":"AMCT"},"description":"Amount Cruise/Tour","amount":{"$":"3585.00"},"seqNumber":"1"},{"code":{"$":"AADD"},"description":"Transportation Add-On","amount":{"$":"0.00"},"seqNumber":"1"},{"code":{"$":"INSU"},"description":"Insurance","amount":{"$":"0.00"},"seqNumber":"1"},{"code":{"$":"PKGS"},"description":"Pre/Post Packages","amount":{"$":"0.00"},"seqNumber":"1"},{"code":{"$":"SSVC"},"description":"Special Services","amount":{"$":"0.00"},"seqNumber":"1"},{"code":{"$":"TXFS"},"description":"Taxes, Fees and Port Expenses","amount":{"$":"0.00"},"seqNumber":"1"},{"code":{"$":"GRSS"},"description":"Gross Amount","amount":{"$":"3585.00"},"seqNumber":"1"},{"code":{"$":"POBC"},"description":"Onboard Credit","amount":{"$":"180.00"},"seqNumber":"1","currencyCode":{"$":"GBP"}},{"code":{"$":"GRSS"},"description":"Gross Amount","amount":{"$":"3585.00"},"seqNumber":"0"},{"code":{"$":"COMM"},"description":"Commission","amount":{"$":"304.72"},"seqNumber":"0"},{"code":{"$":"NAMT"},"description":"Net Amount","amount":{"$":"3280.28"},"seqNumber":"0"},{"code":{"$":"PMTS"},"description":"Payments Applied","amount":{"$":"0.00"},"seqNumber":"0"},{"code":{"$":"NETD"},"description":"Net Due Cruise Line","amount":{"$":"3280.28"},"seqNumber":"0"}],"debarks":{"port":{"code":{"$":"BGI"},"suffix":"3"}},"diningSeatings":[{"choiceFlag":"","code":{"$":"1"},"description":"FIRST SEATING","smokingPreferenceCode":{"$":"X"},"smokingPreferenceDescription":"Non-Smoking","availableInd":"N","tableCode":{"$":"6"},"tableDescription":"Table for 6","statusCode":{"$":"CF"},"statusDescription":"Confirmed"}],"embarkationInfos":[{"description":"BOARD SHIP","time":"1300"}],"embarks":{"port":{"code":{"$":"BGI"},"suffix":"1"}},"exchangeRate":{"fromCurrency":{"$":"GBP"}},"option":{"extendDate":"","extendInd":"N"},"paymentMethods":[{"code":{"$":"CC"},"description":"CREDIT CARD"},{"code":{"$":"CK"},"description":"CHECK"}],"paymentSchedules":[{"code":{"$":"D"},"description":"Deposit","seqNumber":"0","dueDate":"06122020","amount":{"$":"538.00"}},{"code":{"$":"A"},"description":"Final By Check","seqNumber":"0","dueDate":"10032020","amount":{"$":"3280.28"}},{"code":{"$":"G"},"description":"Final By Credit Card","seqNumber":"0","dueDate":"10032020","amount":{"$":"3585.00"}}]}';
        let cruiseSummary = '{"synchronizationId":"09020000000000","locale":"en_GB","shipCode":{"$":"POC"},"remoteBookingID":{"$":""},"requestedCityCode":{"$":"LON"},"fullPaymentReceivedInd":"N","statusCode":{"$":"CF"},"statusDesc":"Confirmed","createdDateTime":"061220201333","id":{"$":"CW5WXC"},"agent":{"name":"BOLSOVER CRUISE CLUB LIMITED"},"passengers":[{"fareType":"SELECT","seqNumber":{"$":"1"},"statusCode":{"$":"CF"},"statusText":"Confirmed","pastGuestNumber":{"$":"POFI67170M"},"insuranceTypeCode":{"$":"O"},"insuranceInd":"Y","rateCode":{"$":"KD1"},"individual":{"genderCode":{"$":"M"},"birthDate":"1980-01-01","nationalityCode":{"$":"AM"},"countryOfResidenceCode":{"$":"AI"},"ageCode":{"$":"Y"},"ageQuantity":{"$":"41"},"nationalityNameText":"ARMENIA","countryOfResidenceNameText":"ANGUILLA","residencyUSInd":"N","homeCityCode":{"$":"LON"},"homeCityNameText":"LONDON  GB","contactPoints":[{"primaryContactInd":"H","emailAddress":{"fullAddressText":"A.SINGH@UBQIUEDIGITAL.COM"},"phoneNumber":{"descText":"HOME","typeCode":{"$":"H"},"numberText":"8000543676"},"postalAddress":[{"typeCode":{"$":"H"},"description":"Home","addressLine1":"123 HARBOR","addressLine2":"","addressLine3":"","buildingNameText":"","postCode":{"$":"2000"},"cityNameText":"SYDNEY","countyNameText":"NSW","countryCode":{"$":"AU"}},{"typeCode":{"$":"D"},"description":"Destination"}]}],"identityDocuments":[{"id":{"$":"J8369854"},"typeCode":{"$":"P"},"issueDate":"2007-03-01","issuePlaceCode":{"$":"AG"},"issuePlaceNameText":"ANTIGUA AND BARBUDA","expiryDate":"2024-11-19","birthPlaceCode":{"$":"AO"},"birthPlaceName":"ANGOLA","issueCityName":"","occupationCode":{"$":""},"occupationDescText":""}],"individualName":{"titleCode":{"$":"MR"},"firstNameText":"TEST","middleNameText":"","familyNameText":"TEST","suffixText":""}},"packages":[{"code":{"$":"A0TNOXFR"},"nameText":"NO TRANSFER","typeCode":{"$":"A"},"typeText":"Post-Cruise","statusCode":{"$":"CF"},"statusText":"Confirmed","nbrOfNightsQuantity":{"$":"0"},"requiredInd":"N","complimentaryInd":"Y","rateAmount":{"$":"0.00"},"rateGuestTypeCode":{"$":""},"rateGuestTypeText":"","minimumGuestsQuantity":{"$":"1"}}],"specialServices":{"code":{"$":"N"},"descText":"Decline Complimentary Upgrade","typeCode":{"$":"UPG"},"typeText":"Upgrade","statusText":"On Request","chargeTypeCode":{"$":"C"}},"transportations":{"typeCode":{"$":"O"},"typeText":"Cruise Only","statusCode":{"$":"CF"},"statusText":"CONFIRMED","cityCode":{"$":"LON"},"cityText":"LONDON  GB"}}],"cabins":[{"number":"E421","typeCode":{"$":"OB"},"availableInd":"N","upgradeCode":"","modifiedInd":"N","modifiedIndDetail":"N","statusCode":{"$":"CF"},"statusDescription":"Confirmed","guestMin":"1","guestMax":"2","deckCode":{"$":"E"},"deckName":"E","deckNumber":"10","smokingPrefCode":{"$":"X"},"smokingPrefDescription":"No Preference","beds":[{"typeCode":{"$":"T2"},"desc":"TWINS","numberOfBeds":"2","currentlyHeld":"Y"},{"typeCode":{"$":"QN"},"desc":"QUEEN","numberOfBeds":"2","currentlyHeld":"N"}],"cabinLocations":[{"typeCode":{"$":"MD"},"desc":"Midship"},{"typeCode":{"$":"ST"},"desc":"Starboard"},{"typeCode":{"$":"OV"},"desc":"Oceanview"}]}],"creditCardTypes":[{"code":{"$":"MC"},"description":"Master Card"},{"code":{"$":"VI"},"description":"VISA"},{"code":{"$":"AX"},"description":"American Express"},{"code":{"$":"DS"},"description":"Discover"},{"code":{"$":"DC"},"description":"Diners Club"}],"cruise":{"cruiseItinerary":{"id":{"$":"CE0001"},"desc":"CARIBBEAN","sailDate":"2021-01-01","sailingID":{"$":"B101"},"durationDays":"14","destinationCode":{"$":"CAE"},"destinationName":"Caribbean - Caribbean Eastern"},"ship":{"code":{"$":"BR"},"name":"BRITANNIA"}},"customerBillLineItems":[{"code":{"$":"AMCT"},"description":"Amount Cruise/Tour","amount":{"$":"3585.00"},"seqNumber":"0"},{"code":{"$":"AADD"},"description":"Transportation Add-On","amount":{"$":"0.00"},"seqNumber":"0"},{"code":{"$":"INSU"},"description":"Insurance","amount":{"$":"0.00"},"seqNumber":"0"},{"code":{"$":"PKGS"},"description":"Pre/Post Packages","amount":{"$":"0.00"},"seqNumber":"0"},{"code":{"$":"SSVC"},"description":"Special Services","amount":{"$":"0.00"},"seqNumber":"0"},{"code":{"$":"TXFS"},"description":"Taxes, Fees and Port Expenses","amount":{"$":"0.00"},"seqNumber":"0"},{"code":{"$":"GRSS"},"description":"Gross Amount","amount":{"$":"3585.00"},"seqNumber":"0"},{"code":{"$":"POBC"},"description":"Onboard Credit","amount":{"$":"180.00"},"seqNumber":"0","currencyCode":{"$":"GBP"}},{"code":{"$":"AMCT"},"description":"Amount Cruise/Tour","amount":{"$":"3585.00"},"seqNumber":"1"},{"code":{"$":"AADD"},"description":"Transportation Add-On","amount":{"$":"0.00"},"seqNumber":"1"},{"code":{"$":"INSU"},"description":"Insurance","amount":{"$":"0.00"},"seqNumber":"1"},{"code":{"$":"PKGS"},"description":"Pre/Post Packages","amount":{"$":"0.00"},"seqNumber":"1"},{"code":{"$":"SSVC"},"description":"Special Services","amount":{"$":"0.00"},"seqNumber":"1"},{"code":{"$":"TXFS"},"description":"Taxes, Fees and Port Expenses","amount":{"$":"0.00"},"seqNumber":"1"},{"code":{"$":"GRSS"},"description":"Gross Amount","amount":{"$":"3585.00"},"seqNumber":"1"},{"code":{"$":"POBC"},"description":"Onboard Credit","amount":{"$":"180.00"},"seqNumber":"1","currencyCode":{"$":"GBP"}},{"code":{"$":"GRSS"},"description":"Gross Amount","amount":{"$":"3585.00"},"seqNumber":"0"},{"code":{"$":"COMM"},"description":"Commission","amount":{"$":"304.72"},"seqNumber":"0"},{"code":{"$":"NAMT"},"description":"Net Amount","amount":{"$":"3280.28"},"seqNumber":"0"},{"code":{"$":"PMTS"},"description":"Payments Applied","amount":{"$":"0.00"},"seqNumber":"0"},{"code":{"$":"NETD"},"description":"Net Due Cruise Line","amount":{"$":"3280.28"},"seqNumber":"0"}],"debarks":{"port":{"code":{"$":"BGI"},"suffix":"3","name":"Bridgetown, Barbados"}},"diningSeatings":{"choiceFlag":"","code":{"$":"2"},"description":"SECOND SEATING","smokingPreferenceCode":{"$":"X"},"smokingPreferenceDescription":"Non-Smoking","availableInd":"N","tableCode":{"$":"6"},"tableDescription":"Table for 6","statusCode":{"$":"CF"},"statusDescription":"Confirmed"},"embarkationInfos":[{"description":"BOARD SHIP","time":"1300"}],"embarks":{"port":{"code":{"$":"BGI"},"suffix":"1","name":"Bridgetown, Barbados"}},"exchangeRate":{"fromCurrency":{"$":"GBP"}},"option":{"date":"06122020","extendDate":"","extendInd":"N"},"paymentMethods":[{"code":{"$":"CC"},"description":"CREDIT CARD"},{"code":{"$":"CK"},"description":"CHECK"}],"paymentSchedules":[{"code":{"$":"D"},"description":"Deposit","seqNumber":"0","amount":{"$":"538.00"}},{"code":{"$":"A"},"description":"Final By Check","seqNumber":"0","amount":{"$":"3280.28"}},{"code":{"$":"G"},"description":"Final By Credit Card","seqNumber":"0","amount":{"$":"3585.00"}}],"startVoyageDate":"2021-01-01","disembarkDate":"2021-01-15","ItineraryEvents":[{"typeCode":{"$":"PKG"},"statusCode":{"$":"A"},"seqNum":"001","typeDesc":"Package","statusText":"Active","eventCode":{"$":"NOXFR"},"eventNameText":"NO TRANSFER","packageText":"TN","supressFlagText":" ","paxNumberInt":"1","port":{"startCityCode":{"$":"FR"},"portCall":{"endDate":"2021-01-01","startDate":"2021-01-01","startDayText":"FRI","endDayText":"FRI","durationTypeCode":{"$":"0000"},"portSchedule":{"descText":" NO TRANSFERS ARE PROVIDED"}}},"tickets":{"ticketPrintAirInd":{"$":""},"ticketPrintVoucherInd":{"$":" "},"itineraryPrintInd":{"$":" "}},"vendor":{"Name":"NO TRANSFER PROVIDED","Address":"","City":"","State":"","stateName":"","Country":"","CountryName":"","Zip":"","Fax":"","Contact":"","Phone":""}},{"typeCode":{"$":"EMB"},"seqNum":"002","typeDesc":"Embark Ship","paxNumberInt":"","port":{"startPortCode":{"$":"BGI"},"startPierCode":{"$":" "},"portCall":{"startDate":"2021-01-01","portFromCode":{"$":"BRIDGETOWN, BARBADOS"},"startDayText":"FRI","startTime":"","portSchedule":{"code":{"$":"EB"},"time":"Embark"}}},"eventInfo":[{"infoCode":{"$":"ON"},"infoText":"OVERNIGHT IN PORT"}]},{"typeCode":{"$":"PV"},"seqNum":"003","typeDesc":"Port Visit","paxNumberInt":"","port":{"startPortCode":{"$":"BGI"},"startPierCode":{"$":""},"portCall":{"endDate":"2021-01-02","startDate":"2021-01-02","portFromCode":{"$":"BRIDGETOWN, BARBADOS"},"startDayText":"SAT","startTime":"","endDayText":"SAT","endTime":"2100","portSchedule":{"code":{"$":"IP"},"time":"In Port"}}},"eventInfo":[{"infoCode":{"$":"A6"},"infoText":"Depart evening"}]},{"typeCode":{"$":"SEA"},"seqNum":"004","typeDesc":"Sea Day","paxNumberInt":"","port":{"portCall":{"startDate":"2021-01-03","startDayText":"SUN"}}},{"typeCode":{"$":"PV"},"seqNum":"005","typeDesc":"Port Visit","paxNumberInt":"","port":{"startPortCode":{"$":"BNA"},"startPierCode":{"$":""},"portCall":{"endDate":"2021-01-04","startDate":"2021-01-04","portFromCode":{"$":"BONAIRE, SAINT EUSTATIUS AND  SABA"},"startDayText":"MON","startTime":"0700","endDayText":"MON","endTime":"1800","portSchedule":{"code":{"$":"IP"},"time":"In Port"}}},"eventInfo":[{"infoCode":{"$":"B1"},"infoText":"Arrive early morning"},{"infoCode":{"$":"A5"},"infoText":"Depart early evening"}]},{"typeCode":{"$":"PV"},"seqNum":"006","typeDesc":"Port Visit","paxNumberInt":"","port":{"startPortCode":{"$":"CUR"},"startPierCode":{"$":""},"portCall":{"endDate":"2021-01-05","startDate":"2021-01-05","portFromCode":{"$":"CURACAO, CURACAO"},"startDayText":"TUE","startTime":"0700","endDayText":"TUE","endTime":"1800","portSchedule":{"code":{"$":"IP"},"time":"In Port"}}},"eventInfo":[{"infoCode":{"$":"B1"},"infoText":"Arrive early morning"},{"infoCode":{"$":"A5"},"infoText":"Depart early evening"}]},{"typeCode":{"$":"SEA"},"seqNum":"007","typeDesc":"Sea Day","paxNumberInt":"","port":{"portCall":{"startDate":"2021-01-06","startDayText":"WED"}}},{"typeCode":{"$":"PV"},"seqNum":"008","typeDesc":"Port Visit","paxNumberInt":"","port":{"startPortCode":{"$":"SVD"},"startPierCode":{"$":""},"portCall":{"endDate":"2021-01-07","startDate":"2021-01-07","portFromCode":{"$":"KINGSTOWN, ST. VINCENT"},"startDayText":"THU","startTime":"0700","endDayText":"THU","endTime":"1800","portSchedule":{"code":{"$":"IP"},"time":"In Port"}}},"eventInfo":[{"infoCode":{"$":"B1"},"infoText":"Arrive early morning"},{"infoCode":{"$":"PT"},"infoText":"POSSIBLE TENDER"},{"infoCode":{"$":"A5"},"infoText":"Depart early evening"}]},{"typeCode":{"$":"PV"},"seqNum":"009","typeDesc":"Port Visit","paxNumberInt":"","port":{"startPortCode":{"$":"GND"},"startPierCode":{"$":""},"portCall":{"endDate":"2021-01-08","startDate":"2021-01-08","portFromCode":{"$":"GRENADA, GRENADA"},"startDayText":"FRI","startTime":"0700","endDayText":"FRI","endTime":"1800","portSchedule":{"code":{"$":"IP"},"time":"In Port"}}},"eventInfo":[{"infoCode":{"$":"B1"},"infoText":"Arrive early morning"},{"infoCode":{"$":"A5"},"infoText":"Depart early evening"}]},{"typeCode":{"$":"PV"},"seqNum":"010","typeDesc":"Port Visit","paxNumberInt":"","port":{"startPortCode":{"$":"SLU"},"startPierCode":{"$":""},"portCall":{"endDate":"2021-01-09","startDate":"2021-01-09","portFromCode":{"$":"CASTRIES, SAINT LUCIA"},"startDayText":"SAT","startTime":"0630","endDayText":"SAT","endTime":"2100","portSchedule":{"code":{"$":"IP"},"time":"In Port"}}},"eventInfo":[{"infoCode":{"$":"B1"},"infoText":"Arrive early morning"},{"infoCode":{"$":"A6"},"infoText":"Depart evening"}]},{"typeCode":{"$":"SEA"},"seqNum":"011","typeDesc":"Sea Day","paxNumberInt":"","port":{"portCall":{"startDate":"2021-01-10","startDayText":"SUN"}}},{"typeCode":{"$":"PV"},"seqNum":"012","typeDesc":"Port Visit","paxNumberInt":"","port":{"startPortCode":{"$":"SKB"},"startPierCode":{"$":""},"portCall":{"endDate":"2021-01-11","startDate":"2021-01-11","portFromCode":{"$":"BASSETERRE, SAINT KITTS AND NEVIS"},"startDayText":"MON","startTime":"0700","endDayText":"MON","endTime":"1800","portSchedule":{"code":{"$":"IP"},"time":"In Port"}}},"eventInfo":[{"infoCode":{"$":"B1"},"infoText":"Arrive early morning"},{"infoCode":{"$":"PT"},"infoText":"POSSIBLE TENDER"},{"infoCode":{"$":"A5"},"infoText":"Depart early evening"}]},{"typeCode":{"$":"PV"},"seqNum":"013","typeDesc":"Port Visit","paxNumberInt":"","port":{"startPortCode":{"$":"ANU"},"startPierCode":{"$":""},"portCall":{"endDate":"2021-01-12","startDate":"2021-01-12","portFromCode":{"$":"ANTIGUA, ANTIGUA AND BARBUDA"},"startDayText":"TUE","startTime":"0700","endDayText":"TUE","endTime":"1800","portSchedule":{"code":{"$":"IP"},"time":"In Port"}}},"eventInfo":[{"infoCode":{"$":"B1"},"infoText":"Arrive early morning"},{"infoCode":{"$":"PT"},"infoText":"POSSIBLE TENDER"},{"infoCode":{"$":"A5"},"infoText":"Depart early evening"}]},{"typeCode":{"$":"PV"},"seqNum":"014","typeDesc":"Port Visit","paxNumberInt":"","port":{"startPortCode":{"$":"SXM"},"startPierCode":{"$":""},"portCall":{"endDate":"2021-01-13","startDate":"2021-01-13","portFromCode":{"$":"ST MAARTEN, SAINT MAARTEN"},"startDayText":"WED","startTime":"0700","endDayText":"WED","endTime":"1800","portSchedule":{"code":{"$":"IP"},"time":"In Port"}}},"eventInfo":[{"infoCode":{"$":"B1"},"infoText":"Arrive early morning"},{"infoCode":{"$":"A5"},"infoText":"Depart early evening"}]},{"typeCode":{"$":"SEA"},"seqNum":"015","typeDesc":"Sea Day","paxNumberInt":"","port":{"portCall":{"startDate":"2021-01-14","startDayText":"THU"}}},{"typeCode":{"$":"DEB"},"seqNum":"016","typeDesc":"Debark Ship","paxNumberInt":"","port":{"startPortCode":{"$":"BGI"},"startPierCode":{"$":" "},"portCall":{"startDate":"2021-01-15","portFromCode":{"$":"BRIDGETOWN, BARBADOS"},"startDayText":"FRI","startTime":"0700","portSchedule":{"code":{"$":"DI"},"time":"Disembark"}}}},{"typeCode":{"$":"PKG"},"statusCode":{"$":"A"},"seqNum":"017","typeDesc":"Package","statusText":"Active","eventCode":{"$":"NOXFR"},"eventNameText":"NO TRANSFER","packageText":"TN","supressFlagText":" ","paxNumberInt":"1","port":{"startCityCode":{"$":"FR"},"portCall":{"endDate":"2021-01-15","startDate":"2021-01-15","startDayText":"FRI","endDayText":"FRI","durationTypeCode":{"$":"0000"},"portSchedule":{"descText":" NO TRANSFERS ARE PROVIDED"}}},"tickets":{"ticketPrintAirInd":{"$":""},"ticketPrintVoucherInd":{"$":" "},"itineraryPrintInd":{"$":" "}},"vendor":{"Name":"NO TRANSFER PROVIDED","Address":"","City":"","State":"","stateName":"","Country":"","CountryName":"","Zip":"","Fax":"","Contact":"","Phone":""}}],"itineraryBooking":{"bookingID":{"$":"CW5WXC"},"statusCode":{"$":"B"},"statusDesc":"Confirmed","createDate":"12JUN20","createId":{"$":"UKR0228"},"bookingContact":".","currencyCode":{"$":"GBP"},"currencyDesc":"POUNDS STERLING","currencySymbol":"#GAP#","groupId":{"$":""},"groupName":"","shipCode":{"$":"BR"},"shipName":"BRITANNIA","shipRegistry":"BERMUDAN","voyageId":{"$":"B101"},"voyageName":"CARIBBEAN","voyageStatus":"A","voyageNewNights":"14","itineraryCode":{"$":"CE0001"},"tourId":{"$":""},"tourName":"","tourStartDate":"","tourNumNights":"0","destinationID":{"$":"CEW"},"destinationDesc":"Caribbean - Caribbean Eastern","embarkDate":"01012021","embarkPortId":{"$":"BGI"},"embarkPortName":"Bridgetown, Barbados","embarkPortCountry":"BB","embarkTime":"1300","embarkPierCode":{"$":" "},"embarkPierDesc":"","sailTime":"2100","debarkDate":"01152021","debarkTime":"0700","debarkPortId":{"$":"BGI"},"debarkPortName":"Bridgetown, Barbados","debarkPierCode":{"$":" "},"debarkPierDesc":"","cabinNumber":"E421","cabinType":"B","cabinPosition":"S","cabinLuggageDoor":"M","categoryCode":{"$":"HA"},"categoryName":"BALCONY CABIN MID","deckName":"E","voyageBedCode":{"$":"T"},"voyageBedDesc":"Convertible Twins","hotelBedCode":{"$":""},"hotelBedDesc":"","tradeCode":{"$":"C"},"linkCode":{"$":""},"productIndicator":"","specialAccInd":"N"},"diningAvailability":{"smokingPreferenceDescription":"N","DiningSeating":[{"code":{"$":"1"},"description":"FIRST SEATING","dinigSeatingstatusCode":{"$":"AV"},"dinigSeatingstatusDescription":"AVAILABLE","availableInd":"Y","mealDescription":"DINNER","mealStartingTime":"183000","mealEndTime":""},{"code":{"$":"2"},"description":"SECOND SEATING","dinigSeatingstatusCode":{"$":"AV"},"dinigSeatingstatusDescription":"AVAILABLE","availableInd":"Y","mealDescription":"DINNER","mealStartingTime":"203000","mealEndTime":""},{"code":{"$":"8"},"description":"Freedom Dining","dinigSeatingstatusCode":{"$":"AV"},"dinigSeatingstatusDescription":"AVAILABLE","availableInd":"Y"}],"tableSize":[{"$":"2"},{"$":"4"},{"$":"6"},{"$":"8"},{"$":"10"},{"$":"A"}]}}'
        let selectedDaytemp = { value: "01" };
        let selectedMonthtemp = { value: "01" };
        let selectedYeartemp = { value: "1980" };
        let loyality = '{"loyaltyTier":{"$":"Mediterranean"},"id":{"$":null}}';
        const instance = wrapper.instance();

        wrapper.setState({
            firstName: " Test ",
            lastName: "Test",
            selectedDay: selectedDaytemp,
            selectedMonth: selectedMonthtemp,
            selectedYear: selectedYeartemp,
            bookingNumber: "CW5WXC"
        });

        instance.setSessionStorageInfo(JSON.parse(cruisebookingResponse), JSON.parse(cruiseSummary), '1', '', '', JSON.parse(loyality));
        expect(wrapper.state('bookingIdError')).toEqual(false);
    });
});
